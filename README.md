# threadpool
# 目的：
  1.熟悉C++11标准的面向对象编程，STL容器、函数对象、绑定器、可变参模板编程。
  2.熟悉C++11多线程编程：thread、mutex、atomic、condition_variable、unique_lock。
  3.熟悉多线程的理论，线程同步、线程互斥、线程通信、原子操作、CAS等。
# 线程池的优势：
  线程的创建和销毁都是很重的操作，耗时耗性能都比较多，在服务执行过程中，如果业务量比较大，实时的去创建销毁线程，会导致系统性能降低。利用线程池的池化思想，服务启动之初来创建线程池线程，当业务流量到来直接取出空闲线程执行任务即可，无需创建，任务执行完毕归还线程池，无需释放。
# 项目描述：
  1.设计了fixed和cached两者模式线程池。
  2.使用unordered_map管理线程对象，queue管理任务对象。
  3.基于condition_varibale和mutex实现任务提交线程和任务执行线程的通信机制。
  4.利用可变参模板编程和引用折叠原理，实现submitTask接口，支持任意任务函数和参数的传递，简化了使用步骤。
  5.使用future类定制submitTask提交任务的返回值。
# 遇到的问题：
  1.在threadpool的资源回收时，发生死锁现象，导致程序无法退出。
  2.在windows平台良好运bt行，转移到Linux平台发生死锁现象，平台运行结果有差异。

# 分析定位问题：
  1.主要通过gdb attach查看运行的线程发生死锁的位置，通过info thread，thread tid，bt查看线程堆栈情况，结合代码定位问题，解决问题。
    2.二分法打印日志快速定位bug。
